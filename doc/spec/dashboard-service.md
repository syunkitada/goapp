# Dashboard Service


## Overview
* Dashboard
    * Webダッシュボード
    * ログイン
        * AuthProxyからトークンを取得
        * セッション情報にトークンを保存
    * トークンのサービスカタログからUIを生成


## ログイン処理(SPA)
* クライアント: "GET /dashboard/state" によりユーザの初期ステートを取得する
    * Cookieに有効なトークンがある場合は、認証され初期ステートが返される
    * 初期ステートが返らない場合は、(SPAにより)ログイン画面にリダイレクトする
* ログイン画面
    * ユーザ、パスワードによりユーザの初期ステート情報を取得する
    * このときCookieにトークンがセットされる
* クライアント: JSは、URL Pathに基づいて、適切なアクションでリクエストを /api/action に送る
* サーバ: /api/action は、cookieを見てトークン認証し、トークンをチェックしOKなら適切なレスポンスを返す
    * JWTトークンがない、もしくはバリデーションに失敗した場合、Errorを返す
